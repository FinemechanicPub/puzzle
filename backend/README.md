# Установка версии приложения для разработчика

## Установка зависимостей
Предварительно создайте и активируйте окружение с помощью пакета [venv](https://docs.python.org/3/library/venv.html) или другого средства. 

Установите зависимости с помощью pip:
```shell
pip install -r dev_requirements.txt
```

## Настройка переменных
Скопируйте содержимое файла [.env.sample](./.env.sample) в файл .env в той же папке. При необходимости отредактируйте настройки.

- CONNECTION_STRING - строка подключения к базе данных
- FIRST_SUPERUSER_EMAIL - адрес электронной почты администратора
- FIRST_SUPERUSER_PASSWORD - пароль администратора

Этих настроек достаточно для использования базы данный `SQLite3` с сохранением данных в локальном файле.

## Создание базы данных
Выполните команду
```bash
alembic upgrade head
```

## Запуск приложения
Запустите сервер `uvicorn` в отладочном режиме:
```shell
uvicorn app.main:app --reload
```

Проверьте, что документация API доступна по адресу [http://127.0.0.1:8000/api/v1/docs]().

Некоторые точки API доступны только с аутентификацией. Аутентификация осуществляется через сессионные cookie. Используйте адрес [http://127.0.0.1:8000/api/v1/auth/login]() и имя и пароль, заданные в файле `.env`.

Для первоначального заполнения базы данных можно воспользоваться модулем обслуживания [manage.py](./manage.py). Дополнительную инфорамацию можно получить из [справки](../infra/README.md#команды-обслуживания) по развертыванию приложения на удаленном сервере.